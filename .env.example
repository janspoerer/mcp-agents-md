# MCP Agent Memory Server Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Security (REQUIRED)
# =============================================================================

# API key for authenticating requests (generate a secure random string)
# Example: openssl rand -hex 32
MCP_API_KEY=your_very_secure_random_string_here

# =============================================================================
# Server Configuration
# =============================================================================

# Path to the memory file (default: AGENTS.md)
MEMORY_FILE_PATH=AGENTS.md

# Path to the audit log file (default: audit.log)
AUDIT_LOG_PATH=audit.log

# Maximum size of a single rule in bytes (default: 10000 = 10KB)
MAX_RULE_SIZE=10000

# =============================================================================
# Rate Limiting
# =============================================================================

# Maximum requests per window (default: 60)
RATE_LIMIT_REQUESTS=60

# Rate limit window in seconds (default: 60)
RATE_LIMIT_WINDOW=60

# =============================================================================
# Google Drive Backup (REQUIRED for backups)
# =============================================================================

# Path to the Google service account JSON file
GOOGLE_SERVICE_ACCOUNT_FILE=service_account.json

# ID of the Google Drive folder to store backups
# Get this from the folder URL: https://drive.google.com/drive/folders/<FOLDER_ID>
GOOGLE_DRIVE_FOLDER_ID=your_folder_id_here

# Number of days to retain backups (default: 30)
BACKUP_RETENTION_DAYS=30

# =============================================================================
# Amazon S3 Backup (Optional)
# =============================================================================

# Enable S3 backup (set to "true" to enable)
S3_BACKUP_ENABLED=false

# S3 bucket name
S3_BUCKET=your-bucket-name

# Prefix (folder) for backups in the bucket
S3_PREFIX=mcp-backups/

# AWS region
S3_REGION=us-east-1

# AWS credentials (choose ONE method):
# Method 1: Access keys (not recommended for production)
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key

# Method 2: Named profile from ~/.aws/credentials (recommended)
# AWS_PROFILE=your-profile-name

# Method 3: IAM role (for EC2/ECS) - no configuration needed

# =============================================================================
# Email Backup (Optional)
# =============================================================================

# Enable email backup (set to "true" to enable)
EMAIL_BACKUP_ENABLED=false

# SMTP server settings
# Gmail: smtp.gmail.com:587 (TLS) or smtp.gmail.com:465 (SSL)
# Outlook: smtp.office365.com:587
# Custom: your-smtp-server.com:587
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true

# SMTP credentials
# For Gmail: Use an App Password, not your regular password
# Create one at: https://myaccount.google.com/apppasswords
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password-here

# Email addresses
EMAIL_FROM=your-email@gmail.com
EMAIL_TO=backup-recipient@example.com

# Optional: Custom subject prefix
EMAIL_SUBJECT_PREFIX=[MCP Backup]
